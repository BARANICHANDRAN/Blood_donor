<!DOCTYPE html>
<html>
<head>
    <title>Donor List</title>
</head>
<body>
    <h1>Blood Donors</h1>

    <form method="get">
        <label for="blood_group">Search by Blood Group:</label>
        <select name="blood_group" id="blood_group" >
            <option value="">--Select--</option>
            {% for group in blood_groups %}
                <option value="{{ group.blood_group }}" {% if request.GET.blood_group == group.blood_group %}selected{% endif %}>
                    {{ group.blood_group }}
                </option>
            {% endfor %}
        </select>
        <button type="submit">Filter</button>
        <a href="{% url 'donor_list' %}">
            <button type="button">Reset Filters</button>
        </a>
    </form>

    <ul>
        {% for donor in donors %}
        <li>
            {{ donor.name }} - {{ donor.blood_group }} - {{ donor.city }} - {{ donor.contact }}
            {% if donor.contact %}
                <a href="{% url 'edit_donor' donor.contact %}">Edit</a>
            {% endif %}
        </li>
        {% empty %}
            <li>No donors found.</li>
        {% endfor %}
    </ul>
    <br>
    <a href="/">Home</a>
    <br>
    <br>
    <a href="/add/">Add Donor</a>
    <br>
    
</body>
</html>
